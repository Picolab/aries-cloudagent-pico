ruleset wlb {
  meta {
    shares connections//, basicmessages
  }
  global {
    raw_connections = {
  "21uAPcZCEj9oMZTQwaR2YtdjMpCWiJVVb1bZHiNU1owJ": {
    "created": "2022-06-16T15:20:57.978Z",
    "label": "Aries Bifold",
    "my_did": "47LMEFaneDwGybH1BgozAR",
    "their_did": "2s4oAxw5iwoRazJQCDNRH1",
    "their_vk": "21uAPcZCEj9oMZTQwaR2YtdjMpCWiJVVb1bZHiNU1owJ",
    "their_routing": []
  },
  "5n2GycKxLGaDugRsK6qCMft2GgDr6rC1LeJvrftNWBXA": {
    "created": "2021-04-20T17:35:46.645Z",
    "label": "Norberto Martinezâ€™s iPhone",
    "my_did": "2sDuyETXzYUtrvsYZm9c9A",
    "their_did": "9mGQFSkTHQk5KoVLFSsFrM",
    "their_vk": "5n2GycKxLGaDugRsK6qCMft2GgDr6rC1LeJvrftNWBXA",
    "their_endpoint": "https://streetcred-mediator-agent.azurewebsites.net/",
    "their_routing": [
      "CLPfsxUh3L9dvShn64fbFJdLko6GneaBCDZBP66iYUwD"
    ]
  },
  "66UMEG2hakYNRAVrc5tQ6twMQVmmPLz6v4qtCwHiem6o": {
    "label": "SSI+ Desk",
    "my_did": "VvQRhNAqHhSjAqWfczKr8o",
    "their_vk": "66UMEG2hakYNRAVrc5tQ6twMQVmmPLz6v4qtCwHiem6o",
    "their_routing": [],
    "created": "2022-06-16T15:40:45.228Z",
    "their_did": "AM7iWa56Y8oqkX2Gkgb2Jp",
    "their_endpoint": "https://desk-agent.dev.ssi-plus.com"
  },
  "7TBz2T1stoG7JL5hz51HgFqiQxRWgTonEjMVXZpnfb7v": {
    "created": "2022-03-14T16:53:28.780Z",
    "label": "Bruce Conrad at byname.byu.edu",
    "my_did": "LY6tWCGNFR85B2iFdpcEQ9",
    "their_did": "8TmgfobzxK227WH95C3oiu",
    "their_vk": "7TBz2T1stoG7JL5hz51HgFqiQxRWgTonEjMVXZpnfb7v",
    "their_endpoint": "https://byname.byu.edu:8080/sky/event/cl0qy2w8p0189mvpbaejb65sg/none/didcomm/message",
    "their_routing": []
  },
  "96YvmrGeTq5syhBVdsKxRXW2w8F8L4VmgPYynUHgimu5": {
    "created": "2022-06-16T16:05:14.844Z",
    "label": "Lab",
    "my_did": "93B8C8cEwKUSExbtnRkpML",
    "their_did": "FrWPkSjLHU9m7fGRk1nkLq",
    "their_vk": "96YvmrGeTq5syhBVdsKxRXW2w8F8L4VmgPYynUHgimu5",
    "their_endpoint": "https://mediator4.test.indiciotech.io:443",
    "their_routing": [
      "8LVqskLZiHZA1BzZdroWv9STP7prCuPmna6AXGNpiixa",
      "9UZKynvW9bVXBMiLdYb4Mooa6FKRv1Ng8S92cbu79XDT"
    ]
  },
  "A6G9yvuQ85Nb3ihAXTgLQmi2kseGoe1hPXAuqRmGVca6": {
    "created": "2022-06-16T15:03:10.340Z",
    "label": "Government",
    "my_did": "FZHCpT6mfbJdeT8Hvb8SRV",
    "their_did": "HgPiGPR78wQHSRsZ5R51Ru",
    "their_vk": "A6G9yvuQ85Nb3ihAXTgLQmi2kseGoe1hPXAuqRmGVca6",
    "their_endpoint": "https://mediator4.test.indiciotech.io:443",
    "their_routing": [
      "3LUXBT4Rz7f1WfBynX5FEa9VVTZp71szhLxA5J29mUF8",
      "9UZKynvW9bVXBMiLdYb4Mooa6FKRv1Ng8S92cbu79XDT"
    ]
  },
  "B5zqB6KU4KxuiHmBbWZWuJs4pMdWqYgehC49PeNS34hK": {
    "created": "2022-06-16T16:42:16.884Z",
    "label": "RJ",
    "my_did": "4i6EfZYVyaqE7gdrXXx6mr",
    "their_did": "KWKgsYCUg41vzXq19X2mpF",
    "their_vk": "B5zqB6KU4KxuiHmBbWZWuJs4pMdWqYgehC49PeNS34hK",
    "their_endpoint": "https://issuer.staging.liquidavatar.com:3102",
    "their_routing": []
  },
  "EZpyAWu1mRY2vGSRQmEyx4tWXd4QEsaizWMQGycag6sh": {
    "created": "2022-06-16T14:54:23.853Z",
    "label": "Happy Health ID",
    "my_did": "CNgSHFLTSzMjKE3BMyxuN2",
    "their_did": "RtdVzMCUojqH5yqwSSKFjJ",
    "their_vk": "EZpyAWu1mRY2vGSRQmEyx4tWXd4QEsaizWMQGycag6sh",
    "their_routing": []
  },
  "GynPLwnJodvu8mk98kuM55fEb7oufo4CcRweDknhYRrA": {
    "label": "Lynn's MBA Bag",
    "my_did": "JAiipkAjTg1LFQbYtwpyR",
    "their_vk": "GynPLwnJodvu8mk98kuM55fEb7oufo4CcRweDknhYRrA",
    "their_routing": [],
    "created": "2021-04-20T21:56:13.401Z",
    "their_did": "547evRnKbPU5dvck8oWK4T",
    "their_endpoint": "https://manifold.picolabs.io:9090/sky/event/547evRnKbPU5dvck8oWK4T/null/didcomm/message"
  },
  "HiK97UA8PPrZ4cEijoyP9MpPW8bKjsXwJNZ63VhkucUr": {
    "created": "2022-06-16T14:44:08.107Z",
    "label": "Lab",
    "my_did": "GnX2UrpBVZSXeecug34HPp",
    "their_did": "XfSne5avmuNACWTokJ2aza",
    "their_vk": "HiK97UA8PPrZ4cEijoyP9MpPW8bKjsXwJNZ63VhkucUr",
    "their_endpoint": "https://mediator4.test.indiciotech.io:443",
    "their_routing": [
      "P8hGGCy5NKALb4SUnaJcXAE5NXTCM9jhSu8TCH6BN6K",
      "9UZKynvW9bVXBMiLdYb4Mooa6FKRv1Ng8S92cbu79XDT"
    ]
  }
}
    connections = function(){
      rc_keys = raw_connections.head().keys().join(9.chr())
      rc_values = raw_connections
        .values()
        .map(function(c){
          c{"created"} + 9.chr() +
          c{"label"} + 9.chr() +
          c{"my_did"} + 9.chr() +
          c{"their_did"} + 9.chr() +
          c{"their_vk"} + 9.chr() +
          c{"their_endpoint"} + 9.chr() +
          c{"their_routing"}.encode()
        })
      return
        [rc_keys].append(rc_values).join(10.chr())
    }
  }
}
